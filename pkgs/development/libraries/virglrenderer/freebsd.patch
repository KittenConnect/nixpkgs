--- a/vtest/vtest_renderer.c	2020-05-16 19:25:05 UTC
+++ b/vtest/vtest_renderer.c
@@ -33,6 +33,7 @@
 #include <sys/uio.h>
 #include <sys/socket.h>
 #include <sys/mman.h>
+#include <sys/stat.h>
 #ifdef HAVE_EVENTFD_H
 #include <sys/eventfd.h>
 #endif
@@ -158,7 +160,7 @@ int vtest_block_read(struct vtest_input *input, void *
    if (getenv("VTEST_SAVE")) {
       if (savefd == -1) {
          savefd = open(getenv("VTEST_SAVE"),
-                       O_CLOEXEC|O_CREAT|O_WRONLY|O_TRUNC|O_DSYNC, S_IRUSR|S_IWUSR);
+                       O_CLOEXEC|O_CREAT|O_WRONLY|O_TRUNC|O_SYNC, S_IRUSR|S_IWUSR);
          if (savefd == -1) {
             perror("error opening save file");
             exit(1);
