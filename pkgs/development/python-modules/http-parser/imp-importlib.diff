diff --git a/setup.py b/setup.py
index 5c3f768..04de1d0 100644
--- a/setup.py
+++ b/setup.py
@@ -9,7 +9,8 @@ from distutils.errors import CCompilerError, DistutilsExecError, \
 from distutils.command.build_ext import build_ext
 from distutils.command.sdist import sdist as _sdist
 import glob
-from imp import load_source
+import importlib.machinery
+import importlib.util
 import io
 import os
 import shutil
@@ -28,6 +29,16 @@ if sys.platform == 'win32' and sys.version_info > (2, 6):
    # find the compiler
    ext_errors += (IOError,)
 
+
+def load_source(modname, filename):
+    loader = importlib.machinery.SourceFileLoader(modname, filename)
+    spec = importlib.util.spec_from_file_location(
+        modname, filename, loader=loader)
+    module = importlib.util.module_from_spec(spec)
+    loader.exec_module(module)
+    return module
+
+
 http_parser = load_source("http_parser", os.path.join("http_parser",
         "__init__.py"))
 
