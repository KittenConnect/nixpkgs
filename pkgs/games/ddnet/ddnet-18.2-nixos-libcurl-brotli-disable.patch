diff -ur ddnet-18.2/src/engine/shared/http.cpp ddnet-18.2-nixos-libcurl-workaround/src/engine/shared/http.cpp
--- ddnet-18.2/src/engine/shared/http.cpp	2024-04-30 20:27:51.000000000 +0200
+++ ddnet-18.2-nixos-libcurl-workaround/src/engine/shared/http.cpp	2024-05-05 21:17:33.792870233 +0200
@@ -146,7 +146,8 @@
 	curl_easy_setopt(pH, CURLOPT_URL, m_aUrl);
 	curl_easy_setopt(pH, CURLOPT_NOSIGNAL, 1L);
 	curl_easy_setopt(pH, CURLOPT_USERAGENT, GAME_NAME " " GAME_RELEASE_VERSION " (" CONF_PLATFORM_STRING "; " CONF_ARCH_STRING ")");
-	curl_easy_setopt(pH, CURLOPT_ACCEPT_ENCODING, ""); // Use any compression algorithm supported by libcurl.
+	// curl_easy_setopt(pH, CURLOPT_ACCEPT_ENCODING, ""); // Use any compression algorithm supported by libcurl.
+	curl_easy_setopt(pH, CURLOPT_ACCEPT_ENCODING, "gzip, deflate"); // NixOS libcurl workaround: don't use brotli
 
 	curl_easy_setopt(pH, CURLOPT_HEADERDATA, this);
 	curl_easy_setopt(pH, CURLOPT_HEADERFUNCTION, HeaderCallback);
